plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.2)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.2)', opacity = .5), fill = 'tonexty', fillcollor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.2)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.2)'), fill = 'tonexty', fillcollor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
# add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
#           line = list(color = 'rgba(102, 102, 102, 0.2)')) %>%
# add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
#           line = list(color = 'rgba(102, 102, 102, 0.2)'), fill = 'tonexty', fillcollor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)'), fill = 'tonexty', fillcollor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)'), fill = 'tonexty', fillcollor = 'rgba(102, 102, 102, 0)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(200, 200, 200, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Water Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1) # Adjusted legend position and size
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right"
),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y3",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right"
),
margin = list(l = 100, r = 100, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y3",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right",
tickangle = -45
),
margin = list(l = 100, r = 180, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y3",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right",
tickangle = -45,
position = 1.1
),
margin = list(l = 100, r = 180, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y3",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right",
tickangle = -45,
offset = 20
),
margin = list(l = 100, r = 180, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y3",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
yaxis3 = list(
title = list(text = "Average Temperature (°C)", font = list(size = 16)),
tickfont = list(size = 14),
overlaying = "y",
side = "right",
offset = 20
),
margin = list(l = 100, r = 180, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
plot_etc <- function(data, plot) {
df_filtered <- data %>% filter(Plot_ID == plot)
plot <- plot_ly(df_filtered, x = ~Date) %>%
# add_bars(y = ~PRECIP, name = "Rainfall", yaxis = "y2", marker = list(color = 'rgba(30, 144, 255, 0.7)', type = 'bar', width = 1)) %>%
# add_bars(y = ~Irrigation_mm, name = "Irrigation", yaxis = "y2", marker = list(color = 'rgba(0, 0, 139, 0.7)', type = 'bar', width = 1)) %>%
add_trace(y = ~etc_mm_pred, type = 'scatter', mode = 'lines', name = "ETc (mm)", yaxis = "y2",
line = list(color = 'rgba(139, 69, 19, 0.8)')) %>%
add_trace(y = ~SRAVG, type = 'scatter', mode = 'lines', name = "Radiation", yaxis = "y",
line = list(color = 'rgba(139, 0, 0, 0.7)')) %>%
add_trace(y = ~TEMP2MMAX, type = 'scatter', mode = 'lines', name = "Maximum Temperature", yaxis = "y2",
line = list(color = 'rgba(102, 102, 102, 0.7)')) %>%
add_trace(y = ~TEMP2MMIN, type = 'scatter', mode = 'lines', name = "Minimum Temperature", yaxis = "y2",
line = list(color = 'rgba(30, 30, 30, 0.7)'), fill = 'tonexty', fillcolor = 'rgba(102, 102, 102, 0.2)') %>%
layout(
title = list(text = paste("Weather Dynamics for Plot", plot), font = list(size = 18)),
xaxis = list(title = list(text = "", font = list(size = 16)), tickfont = list(size = 14)),
yaxis = list(title = list(text = "Radiation", font = list(size = 16)), tickfont = list(size = 14), side = "right"),
yaxis2 = list(title = list(text = "Irrigation / Rainfall (mm)", font = list(size = 16)), tickfont = list(size = 14), overlaying = "y", side = "left"),
margin = list(l = 100, r = 180, t = 70, b = 70),
legend = list(font = list(size = 14), orientation = "h", x = 0.5, xanchor = "center", y = -0.1)
)
return(plot)
}
plot_etc(df_combined2, plot = "2502")
shiny::runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
data <- read.csv("app/data/dynamic_df.csv")
View(AWC.df)
View(data)
min(data$Date)
max(data$Date)
runApp('app')
runApp('app')
View(data)
runApp('app')
View(data)
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app/server_ui')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
View(data)
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
runApp('app')
